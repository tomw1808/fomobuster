{"version":3,"sources":["scripts/app.js"],"names":["TechsController","$http","$timeout","perdiocReload","get","params","q","vm","rows","then","response","i","data","docs","length","doc_ids","indexOf","id","push","news","unshift","items","adapterContainer","adapter","isBOF","prepend","Notification","permission","notification","topic","body","title_website","setTimeout","close","this","keywords","reload","newselements","index","count","success","item","remain","routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","hashPrefix","otherwise","state","url","component","$inject","angular","module","constant","timezone","templateUrl","controller","bindings","requestPermission","run","$templateCache","put","config"],"mappings":"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","file":"scripts/app-02f5e619bc.js","sourcesContent":["angular\n  .module('app', ['ui.router', 'ui.scroll', 'ui.scroll.jqlite', 'angularMoment']).constant('angularMomentConfig', {\n    timezone: 'UTC' // e.g. 'Europe/London'\n});;\n\nangular\n    .module('app')\n    .component('fountainTechs', {\n        templateUrl: 'app/techs/techs.html',\n        controller: TechsController,\n        bindings: {\n            topic: '<',\n            keywords: '<'\n        }\n    });\n\n/** @ngInject */\nfunction TechsController($http, $timeout) {\n    var vm = this;\n\n    var doc_ids = [];\n    vm.news = {response: {docs: []}};\n    function perdiocReload() {\n        $http\n            .get('https://www.newscombinator.com/api/search',{params: {q:'(_val_:\"recip(ms(NOW/HOUR,created_at),3.16e-9,2700,1)\"^15 ) +('+(vm.keywords)+') +language:en -title_link:free -title_link:gambling -title_link:faucet  -title_link:New\\\\ on\\\\ \\\\\\#steemit\\\\:', 'rows': 10}})\n            .then(function (response) {\n                for(var i = 0; i < response.data.response.docs.length; i++) {\n                    if(doc_ids.indexOf(response.data.response.docs[i].id) === -1) {\n                        doc_ids.push(response.data.response.docs[i].id);\n\n                        vm.news.response.docs.unshift(response.data.response.docs[i]);\n                        var items = [];\n                        items.push(response.data.response.docs[i]);\n                        if (vm.adapterContainer.adapter.isBOF()) {\n                            vm.adapterContainer.adapter.prepend(items);\n                        }\n                        if (Notification.permission === \"granted\") {\n                            var notification = new Notification(items.length+\" items in \"+vm.topic, {body: items[0].title_website});\n                            setTimeout(function() {\n                                notification.close();\n                            },4500);\n                        }\n                    }\n                }\n\n                $timeout(perdiocReload, 20000);\n            });\n    }\n    $http\n        .get('https://www.newscombinator.com/api/search',{params: {q:'(_val_:\"recip(ms(NOW/HOUR,created_at),3.16e-9,2700,1)\"^15 ) +('+vm.keywords+') +language:en -title_link:free -title_link:gambling -title_link:faucet -title_link:New\\\\ on\\\\ \\\\\\#steemit\\\\:', 'rows': 50}})\n        .then(function (response) {\n            vm.news = response.data;\n\n            for(var i = 0; i < response.data.response.docs.length; i++) {\n                doc_ids.push(response.data.response.docs[i].id);\n            }\n            vm.adapterContainer.adapter.reload();\n\n            $timeout(perdiocReload, 2500);\n        });\n\n\n    vm.newselements = {};\n    vm.newselements.get = function (index, count, success) {\n        var i, items = [], item;\n\n        for (i = index; i < index + count; i++) {\n\n            if(i < 0 || i >= vm.news.response.docs.length) {\n                continue;\n            }\n            item = vm.news.response.docs[i];\n            items.push(item);\n        }\n\n\n        success(items);\n    };\n\n\n\n    vm.adapterContainer = { adapter: {\n        remain: true\n    }};\n}\n\nangular\n  .module('app')\n  .component('fountainTitle', {\n    templateUrl: 'app/title.html'\n  });\n\nangular\n    .module('app')\n    .component('app', {\n        templateUrl: 'app/main.html',\n        controller: function () {\n            if (Notification.permission !== 'denied' && Notification.permission !== 'granted') {\n                Notification.requestPermission(function (permission) {\n                    // If the user accepts, let's create a notification\n                    if (permission === \"granted\") {\n                        var notification = new Notification(\"You will see a notification if new news arrives!\");\n                    }\n                });\n            }\n\n        }\n    });\n\nangular\n  .module('app')\n  .component('fountainHeader', {\n    templateUrl: 'app/header.html'\n  });\n\nangular\n  .module('app')\n  .component('fountainFooter', {\n    templateUrl: 'app/footer.html'\n  });\n\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/footer.html\",\"<footer class=\\\"footer\\\">\\n  Build with â™¥ by the&nbsp;\\n  <a href=\\\"http://www.newscombinator.com\\\">\\n    Newscombinator\\n  </a>\\n</footer>\\n\");\n$templateCache.put(\"app/header.html\",\"<header class=\\\"header\\\">\\n  <p class=\\\"header-title\\\">\\n    <a href=\\\"/#/\\\" target=\\\"_blank\\\">\\n      Crypto FOMO Buster\\n    </a>\\n  </p>\\n  <p class=\\\"header-date\\\">\\n    Control your FOMO, trade fundamentals with research!\\n  </p>\\n</header>\\n\");\n$templateCache.put(\"app/main.html\",\"<fountain-header></fountain-header>\\n<div class=\\\"container-fluid\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-12 text-center\\\">\\n            <br>This tool aggregates news about different crypto-currencies.<br>\\n            It will search through title and content if a currency is mentioned.<br>\\n            <b>You don\\'t have to refresh.</b> It\\'ll auto-prepend news.<br>\\n            You get desktop notifications if there is something new. Happy trading!\\n        </div>\\n    </div>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'Augur\\'\\\" keywords=\\\"\\'Augur\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'Iconomi\\'\\\" keywords=\\\"\\'Iconomi\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'ETHETC (Ethereum)\\'\\\" keywords=\\\"\\'Ethereum ETH ETC\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'XMR Monero\\'\\\" keywords=\\\"\\'Monero XMR\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'SDC Shadowcoin\\'\\\" keywords=\\\"\\'Shadowcoin SDC\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'XRP Ripple\\'\\\" keywords=\\\"\\'Ripple XRP\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'MAID Maidsafe\\'\\\" keywords=\\\"\\'Maidsafe Madesafecoin\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'DASH\\'\\\" keywords=\\\"\\'DASH\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'FCT Factom\\'\\\" keywords=\\\"\\'Factom FCT\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'STR Stellar\\'\\\" keywords=\\\"\\'Stellar STR\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'STEEM\\'\\\" keywords=\\\"\\'STEEM Steemit\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'LTC Litecoin\\'\\\" keywords=\\\"\\'Litecoin LTC\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'AMP Synero\\'\\\" keywords=\\\"\\'Synero AMP\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'DOGE\\'\\\" keywords=\\\"\\'Dogecoin Doge\\'\\\"></fountain-techs>\\n        </div>\\n        <div class=\\\"col-lg-4\\\">\\n            <fountain-techs topic=\\\"\\'NAUT Nautiluscoin\\'\\\" keywords=\\\"\\'Nautiluscoin NAUT\\'\\\"></fountain-techs>\\n        </div>\\n    </div>\\n</div>\\n<fountain-footer></fountain-footer>\\n\");\n$templateCache.put(\"app/title.html\",\"<div class=\\\"title\\\">\\n  <h1 class=\\\"title-h1\\\">Hold your emotions!</h1>\\n</div>\\n\");\n$templateCache.put(\"app/techs/techs.html\",\"<h2>\\n    {{$ctrl.topic}}\\n</h2>\\n<div ui-scroll-viewport style=\\\"height: 350px\\\">\\n    <div ui-scroll=\\\"news in $ctrl.newselements\\\" adapter=\\\"$ctrl.adapterContainer.adapter\\\">\\n        <a class=\\\"small\\\" target=\\\"_blank\\\" href=\\\"{{news.url}}\\\">{{news.title_link}}</a> <span class=\\\"small\\\" am-time-ago=\\\"news.created_at\\\"></span>\\n    </div>\\n</div>\\n\");}]);\nangular\n  .module('app')\n  .config(routesConfig);\n\n/** @ngInject */\nfunction routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n  $locationProvider.html5Mode(true).hashPrefix('!');\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n    .state('app', {\n      url: '/',\n      component: 'app'\n    });\n}\n"],"sourceRoot":"/source/"}